var g=Math.PI,M=2*g,f=1e-6,L=M-f;function y(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function z(){return new y}y.prototype=z.prototype={constructor:y,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,i,s){this._+="Q"+ +t+","+ +n+","+(this._x1=+i)+","+(this._y1=+s)},bezierCurveTo:function(t,n,i,s,h,o){this._+="C"+ +t+","+ +n+","+ +i+","+ +s+","+(this._x1=+h)+","+(this._y1=+o)},arcTo:function(t,n,i,s,h){t=+t,n=+n,i=+i,s=+s,h=+h;var o=this._x1,r=this._y1,e=i-t,u=s-n,a=o-t,l=r-n,_=a*a+l*l;if(h<0)throw new Error("negative radius: "+h);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(_>f)if(!(Math.abs(l*e-u*a)>f)||!h)this._+="L"+(this._x1=t)+","+(this._y1=n);else{var c=i-o,p=s-r,T=e*e+u*u,C=c*c+p*p,m=Math.sqrt(T),b=Math.sqrt(_),x=h*Math.tan((g-Math.acos((T+_-C)/(2*m*b)))/2),v=x/b,d=x/m;Math.abs(v-1)>f&&(this._+="L"+(t+v*a)+","+(n+v*l)),this._+="A"+h+","+h+",0,0,"+ +(l*c>a*p)+","+(this._x1=t+d*e)+","+(this._y1=n+d*u)}},arc:function(t,n,i,s,h,o){t=+t,n=+n,i=+i,o=!!o;var r=i*Math.cos(s),e=i*Math.sin(s),u=t+r,a=n+e,l=1^o,_=o?s-h:h-s;if(i<0)throw new Error("negative radius: "+i);this._x1===null?this._+="M"+u+","+a:(Math.abs(this._x1-u)>f||Math.abs(this._y1-a)>f)&&(this._+="L"+u+","+a),i&&(_<0&&(_=_%M+M),_>L?this._+="A"+i+","+i+",0,1,"+l+","+(t-r)+","+(n-e)+"A"+i+","+i+",0,1,"+l+","+(this._x1=u)+","+(this._y1=a):_>f&&(this._+="A"+i+","+i+",0,"+ +(_>=g)+","+l+","+(this._x1=t+i*Math.cos(h))+","+(this._y1=n+i*Math.sin(h))))},rect:function(t,n,i,s){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +i+"v"+ +s+"h"+-i+"Z"},toString:function(){return this._}};function k(t){return function(){return t}}function q(t){return t[0]}function E(t){return t[1]}var P=Array.prototype.slice;function w(t){return t.source}function H(t){return t.target}function A(t){var n=w,i=H,s=q,h=E,o=null;function r(){var e,u=P.call(arguments),a=n.apply(this,u),l=i.apply(this,u);if(o||(o=e=z()),t(o,+s.apply(this,(u[0]=a,u)),+h.apply(this,u),+s.apply(this,(u[0]=l,u)),+h.apply(this,u)),e)return o=null,e+""||null}return r.source=function(e){return arguments.length?(n=e,r):n},r.target=function(e){return arguments.length?(i=e,r):i},r.x=function(e){return arguments.length?(s=typeof e=="function"?e:k(+e),r):s},r.y=function(e){return arguments.length?(h=typeof e=="function"?e:k(+e),r):h},r.context=function(e){return arguments.length?(o=e??null,r):o},r}function S(t,n,i,s,h){t.moveTo(n,i),t.bezierCurveTo(n=(n+s)/2,i,n,h,s,h)}function V(t,n,i,s,h){t.moveTo(n,i),t.bezierCurveTo(n,i=(i+h)/2,s,i,s,h)}function Z(){return A(S)}function $(){return A(V)}export{$ as a,Z as l};
