import{d as or}from"./deepmerge-DhIoniG1.js";import{c as $,i as gr,t as _r,a as Ir}from"./lodash-es-jOsQeQUn.js";import{r as s}from"./react-DShcIP8I.js";import{i as U}from"./react-fast-compare-BSScw1w7.js";import{h as Kr}from"./hoist-non-react-statics-DYJZ9X0p.js";function y(){return y=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var u=arguments[t];for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&(n[a]=u[a])}return n},y.apply(this,arguments)}function Yr(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}function B(n,t){if(n==null)return{};var u={},a=Object.keys(n),r,i;for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(u[r]=n[r]);return u}function Rr(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var q=s.createContext(void 0);q.displayName="FormikContext";var qr=q.Provider,Jr=q.Consumer;function kr(){var n=s.useContext(q);return n}var br=function(t){return Array.isArray(t)&&t.length===0},R=function(t){return typeof t=="function"},j=function(t){return t!==null&&typeof t=="object"},Qr=function(t){return String(Math.floor(Number(t)))===t},ir=function(t){return Object.prototype.toString.call(t)==="[object String]"},Lr=function(t){return s.Children.count(t)===0},ar=function(t){return j(t)&&R(t.then)};function g(n,t,u,a){a===void 0&&(a=0);for(var r=_r(t);n&&a<r.length;)n=n[r[a++]];return a!==r.length&&!n||n===void 0?u:n}function D(n,t,u){for(var a=Ir(n),r=a,i=0,o=_r(t);i<o.length-1;i++){var c=o[i],h=g(n,o.slice(0,i+1));if(h&&(j(h)||Array.isArray(h)))r=r[c]=Ir(h);else{var T=o[i+1];r=r[c]=Qr(T)&&Number(T)>=0?[]:{}}}return(i===0?n:r)[o[i]]===u?n:(u===void 0?delete r[o[i]]:r[o[i]]=u,i===0&&u===void 0&&delete a[o[i]],a)}function Mr(n,t,u,a){u===void 0&&(u=new WeakMap),a===void 0&&(a={});for(var r=0,i=Object.keys(n);r<i.length;r++){var o=i[r],c=n[o];j(c)?u.get(c)||(u.set(c,!0),a[o]=Array.isArray(c)?[]:{},Mr(c,t,u,a[o])):a[o]=t}return a}function Xr(n,t){switch(t.type){case"SET_VALUES":return y({},n,{values:t.payload});case"SET_TOUCHED":return y({},n,{touched:t.payload});case"SET_ERRORS":return U(n.errors,t.payload)?n:y({},n,{errors:t.payload});case"SET_STATUS":return y({},n,{status:t.payload});case"SET_ISSUBMITTING":return y({},n,{isSubmitting:t.payload});case"SET_ISVALIDATING":return y({},n,{isValidating:t.payload});case"SET_FIELD_VALUE":return y({},n,{values:D(n.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return y({},n,{touched:D(n.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return y({},n,{errors:D(n.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return y({},n,t.payload);case"SET_FORMIK_STATE":return t.payload(n);case"SUBMIT_ATTEMPT":return y({},n,{touched:Mr(n.values,!0),isSubmitting:!0,submitCount:n.submitCount+1});case"SUBMIT_FAILURE":return y({},n,{isSubmitting:!1});case"SUBMIT_SUCCESS":return y({},n,{isSubmitting:!1});default:return n}}var N={},Y={};function Zr(n){var t=n.validateOnChange,u=t===void 0?!0:t,a=n.validateOnBlur,r=a===void 0?!0:a,i=n.validateOnMount,o=i===void 0?!1:i,c=n.isInitialValid,h=n.enableReinitialize,T=h===void 0?!1:h,C=n.onSubmit,I=B(n,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),d=y({validateOnChange:u,validateOnBlur:r,validateOnMount:o,onSubmit:C},I),A=s.useRef(d.initialValues),k=s.useRef(d.initialErrors||N),b=s.useRef(d.initialTouched||Y),L=s.useRef(d.initialStatus),_=s.useRef(!1),M=s.useRef({});s.useEffect(function(){return _.current=!0,function(){_.current=!1}},[]);var J=s.useState(0),Q=J[1],z=s.useRef({values:$(d.initialValues),errors:$(d.initialErrors)||N,touched:$(d.initialTouched)||Y,status:$(d.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),S=z.current,E=s.useCallback(function(e){var l=z.current;z.current=Xr(l,e),l!==z.current&&Q(function(f){return f+1})},[]),cr=s.useCallback(function(e,l){return new Promise(function(f,v){var p=d.validate(e,l);p==null?f(N):ar(p)?p.then(function(m){f(m||N)},function(m){v(m)}):f(p)})},[d.validate]),X=s.useCallback(function(e,l){var f=d.validationSchema,v=R(f)?f(l):f,p=l&&v.validateAt?v.validateAt(l,e):re(e,v);return new Promise(function(m,F){p.then(function(){m(N)},function(O){O.name==="ValidationError"?m(xr(O)):F(O)})})},[d.validationSchema]),sr=s.useCallback(function(e,l){return new Promise(function(f){return f(M.current[e].validate(l))})},[]),fr=s.useCallback(function(e){var l=Object.keys(M.current).filter(function(v){return R(M.current[v].validate)}),f=l.length>0?l.map(function(v){return sr(v,g(e,v))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(f).then(function(v){return v.reduce(function(p,m,F){return m==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||m&&(p=D(p,l[F],m)),p},{})})},[sr]),Vr=s.useCallback(function(e){return Promise.all([fr(e),d.validationSchema?X(e):{},d.validate?cr(e):{}]).then(function(l){var f=l[0],v=l[1],p=l[2],m=or.all([f,v,p],{arrayMerge:ee});return m})},[d.validate,d.validationSchema,fr,cr,X]),V=w(function(e){return e===void 0&&(e=S.values),E({type:"SET_ISVALIDATING",payload:!0}),Vr(e).then(function(l){return _.current&&(E({type:"SET_ISVALIDATING",payload:!1}),E({type:"SET_ERRORS",payload:l})),l})});s.useEffect(function(){o&&_.current===!0&&U(A.current,d.initialValues)&&V(A.current)},[o,V]);var W=s.useCallback(function(e){var l=e&&e.values?e.values:A.current,f=e&&e.errors?e.errors:k.current?k.current:d.initialErrors||{},v=e&&e.touched?e.touched:b.current?b.current:d.initialTouched||{},p=e&&e.status?e.status:L.current?L.current:d.initialStatus;A.current=l,k.current=f,b.current=v,L.current=p;var m=function(){E({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:f,touched:v,status:p,values:l,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&typeof e.submitCount=="number"?e.submitCount:0}})};if(d.onReset){var F=d.onReset(S.values,Ar);ar(F)?F.then(m):m()}else m()},[d.initialErrors,d.initialStatus,d.initialTouched,d.onReset]);s.useEffect(function(){_.current===!0&&!U(A.current,d.initialValues)&&T&&(A.current=d.initialValues,W(),o&&V(A.current))},[T,d.initialValues,W,o,V]),s.useEffect(function(){T&&_.current===!0&&!U(k.current,d.initialErrors)&&(k.current=d.initialErrors||N,E({type:"SET_ERRORS",payload:d.initialErrors||N}))},[T,d.initialErrors]),s.useEffect(function(){T&&_.current===!0&&!U(b.current,d.initialTouched)&&(b.current=d.initialTouched||Y,E({type:"SET_TOUCHED",payload:d.initialTouched||Y}))},[T,d.initialTouched]),s.useEffect(function(){T&&_.current===!0&&!U(L.current,d.initialStatus)&&(L.current=d.initialStatus,E({type:"SET_STATUS",payload:d.initialStatus}))},[T,d.initialStatus,d.initialTouched]);var dr=w(function(e){if(M.current[e]&&R(M.current[e].validate)){var l=g(S.values,e),f=M.current[e].validate(l);return ar(f)?(E({type:"SET_ISVALIDATING",payload:!0}),f.then(function(v){return v}).then(function(v){E({type:"SET_FIELD_ERROR",payload:{field:e,value:v}}),E({type:"SET_ISVALIDATING",payload:!1})})):(E({type:"SET_FIELD_ERROR",payload:{field:e,value:f}}),Promise.resolve(f))}else if(d.validationSchema)return E({type:"SET_ISVALIDATING",payload:!0}),X(S.values,e).then(function(v){return v}).then(function(v){E({type:"SET_FIELD_ERROR",payload:{field:e,value:g(v,e)}}),E({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Dr=s.useCallback(function(e,l){var f=l.validate;M.current[e]={validate:f}},[]),Or=s.useCallback(function(e){delete M.current[e]},[]),vr=w(function(e,l){E({type:"SET_TOUCHED",payload:e});var f=l===void 0?r:l;return f?V(S.values):Promise.resolve()}),pr=s.useCallback(function(e){E({type:"SET_ERRORS",payload:e})},[]),hr=w(function(e,l){var f=R(e)?e(S.values):e;E({type:"SET_VALUES",payload:f});var v=l===void 0?u:l;return v?V(f):Promise.resolve()}),K=s.useCallback(function(e,l){E({type:"SET_FIELD_ERROR",payload:{field:e,value:l}})},[]),H=w(function(e,l,f){E({type:"SET_FIELD_VALUE",payload:{field:e,value:l}});var v=f===void 0?u:f;return v?V(D(S.values,e,l)):Promise.resolve()}),mr=s.useCallback(function(e,l){var f=l,v=e,p;if(!ir(e)){e.persist&&e.persist();var m=e.target?e.target:e.currentTarget,F=m.type,O=m.name,nr=m.id,tr=m.value,jr=m.checked,se=m.outerHTML,Fr=m.options,zr=m.multiple;f=l||O||nr,v=/number|range/.test(F)?(p=parseFloat(tr),isNaN(p)?"":p):/checkbox/.test(F)?te(g(S.values,f),jr,tr):Fr&&zr?ne(Fr):tr}f&&H(f,v)},[H,S.values]),Z=w(function(e){if(ir(e))return function(l){return mr(l,e)};mr(e)}),G=w(function(e,l,f){l===void 0&&(l=!0),E({type:"SET_FIELD_TOUCHED",payload:{field:e,value:l}});var v=f===void 0?r:f;return v?V(S.values):Promise.resolve()}),yr=s.useCallback(function(e,l){e.persist&&e.persist();var f=e.target,v=f.name,p=f.id,m=f.outerHTML,F=l||v||p;G(F,!0)},[G]),x=w(function(e){if(ir(e))return function(l){return yr(l,e)};yr(e)}),Er=s.useCallback(function(e){R(e)?E({type:"SET_FORMIK_STATE",payload:e}):E({type:"SET_FORMIK_STATE",payload:function(){return e}})},[]),Sr=s.useCallback(function(e){E({type:"SET_STATUS",payload:e})},[]),Tr=s.useCallback(function(e){E({type:"SET_ISSUBMITTING",payload:e})},[]),rr=w(function(){return E({type:"SUBMIT_ATTEMPT"}),V().then(function(e){var l=e instanceof Error,f=!l&&Object.keys(e).length===0;if(f){var v;try{if(v=Nr(),v===void 0)return}catch(p){throw p}return Promise.resolve(v).then(function(p){return _.current&&E({type:"SUBMIT_SUCCESS"}),p}).catch(function(p){if(_.current)throw E({type:"SUBMIT_FAILURE"}),p})}else if(_.current&&(E({type:"SUBMIT_FAILURE"}),l))throw e})}),Ur=w(function(e){e&&e.preventDefault&&R(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&R(e.stopPropagation)&&e.stopPropagation(),rr().catch(function(l){console.warn("Warning: An unhandled error was caught from submitForm()",l)})}),Ar={resetForm:W,validateForm:V,validateField:dr,setErrors:pr,setFieldError:K,setFieldTouched:G,setFieldValue:H,setStatus:Sr,setSubmitting:Tr,setTouched:vr,setValues:hr,setFormikState:Er,submitForm:rr},Nr=w(function(){return C(S.values,Ar)}),Br=w(function(e){e&&e.preventDefault&&R(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&R(e.stopPropagation)&&e.stopPropagation(),W()}),Pr=s.useCallback(function(e){return{value:g(S.values,e),error:g(S.errors,e),touched:!!g(S.touched,e),initialValue:g(A.current,e),initialTouched:!!g(b.current,e),initialError:g(k.current,e)}},[S.errors,S.touched,S.values]),Hr=s.useCallback(function(e){return{setValue:function(f,v){return H(e,f,v)},setTouched:function(f,v){return G(e,f,v)},setError:function(f){return K(e,f)}}},[H,G,K]),Gr=s.useCallback(function(e){var l=j(e),f=l?e.name:e,v=g(S.values,f),p={name:f,value:v,onChange:Z,onBlur:x};if(l){var m=e.type,F=e.value,O=e.as,nr=e.multiple;m==="checkbox"?F===void 0?p.checked=!!v:(p.checked=!!(Array.isArray(v)&&~v.indexOf(F)),p.value=F):m==="radio"?(p.checked=v===F,p.value=F):O==="select"&&nr&&(p.value=p.value||[],p.multiple=!0)}return p},[x,Z,S.values]),er=s.useMemo(function(){return!U(A.current,S.values)},[A.current,S.values]),Wr=s.useMemo(function(){return typeof c<"u"?er?S.errors&&Object.keys(S.errors).length===0:c!==!1&&R(c)?c(d):c:S.errors&&Object.keys(S.errors).length===0},[c,er,S.errors,d]),$r=y({},S,{initialValues:A.current,initialErrors:k.current,initialTouched:b.current,initialStatus:L.current,handleBlur:x,handleChange:Z,handleReset:Br,handleSubmit:Ur,resetForm:W,setErrors:pr,setFormikState:Er,setFieldTouched:G,setFieldValue:H,setFieldError:K,setStatus:Sr,setSubmitting:Tr,setTouched:vr,setValues:hr,submitForm:rr,validateForm:V,validateField:dr,isValid:Wr,dirty:er,unregisterField:Or,registerField:Dr,getFieldProps:Gr,getFieldMeta:Pr,getFieldHelpers:Hr,validateOnBlur:r,validateOnChange:u,validateOnMount:o});return $r}function me(n){var t=Zr(n),u=n.component,a=n.children,r=n.render,i=n.innerRef;return s.useImperativeHandle(i,function(){return t}),s.createElement(qr,{value:t},u?s.createElement(u,t):r?r(t):a?R(a)?a(t):Lr(a)?null:s.Children.only(a):null)}function xr(n){var t={};if(n.inner){if(n.inner.length===0)return D(t,n.path,n.message);for(var r=n.inner,u=Array.isArray(r),a=0,r=u?r:r[Symbol.iterator]();;){var i;if(u){if(a>=r.length)break;i=r[a++]}else{if(a=r.next(),a.done)break;i=a.value}var o=i;g(t,o.path)||(t=D(t,o.path,o.message))}}return t}function re(n,t,u,a){u===void 0&&(u=!1);var r=lr(n);return t[u?"validateSync":"validate"](r,{abortEarly:!1,context:a||r})}function lr(n){var t=Array.isArray(n)?[]:{};for(var u in n)if(Object.prototype.hasOwnProperty.call(n,u)){var a=String(u);Array.isArray(n[a])===!0?t[a]=n[a].map(function(r){return Array.isArray(r)===!0||gr(r)?lr(r):r!==""?r:void 0}):gr(n[a])?t[a]=lr(n[a]):t[a]=n[a]!==""?n[a]:void 0}return t}function ee(n,t,u){var a=n.slice();return t.forEach(function(i,o){if(typeof a[o]>"u"){var c=u.clone!==!1,h=c&&u.isMergeableObject(i);a[o]=h?or(Array.isArray(i)?[]:{},i,u):i}else u.isMergeableObject(i)?a[o]=or(n[o],i,u):n.indexOf(i)===-1&&a.push(i)}),a}function ne(n){return Array.from(n).filter(function(t){return t.selected}).map(function(t){return t.value})}function te(n,t,u){if(typeof n=="boolean")return!!t;var a=[],r=!1,i=-1;if(Array.isArray(n))a=n,i=n.indexOf(u),r=i>=0;else if(!u||u=="true"||u=="false")return!!t;return t&&u&&!r?a.concat(u):r?a.slice(0,i).concat(a.slice(i+1)):a}var ie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?s.useLayoutEffect:s.useEffect;function w(n){var t=s.useRef(n);return ie(function(){t.current=n}),s.useCallback(function(){for(var u=arguments.length,a=new Array(u),r=0;r<u;r++)a[r]=arguments[r];return t.current.apply(void 0,a)},[])}function ye(n){var t=n.validate,u=n.name,a=n.render,r=n.children,i=n.as,o=n.component,c=n.className,h=B(n,["validate","name","render","children","as","component","className"]),T=kr(),C=B(T,["validate","validationSchema"]),I=C.registerField,d=C.unregisterField;s.useEffect(function(){return I(u,{validate:t}),function(){d(u)}},[I,d,u,t]);var A=C.getFieldProps(y({name:u},h)),k=C.getFieldMeta(u),b={field:A,form:C};if(a)return a(y({},b,{meta:k}));if(R(r))return r(y({},b,{meta:k}));if(o){if(typeof o=="string"){var L=h.innerRef,_=B(h,["innerRef"]);return s.createElement(o,y({ref:L},A,_,{className:c}),r)}return s.createElement(o,y({field:A,form:C},h,{className:c}),r)}var M=i||"input";if(typeof M=="string"){var J=h.innerRef,Q=B(h,["innerRef"]);return s.createElement(M,y({ref:J},A,Q,{className:c}),r)}return s.createElement(M,y({},A,h,{className:c}),r)}var ae=s.forwardRef(function(n,t){var u=n.action,a=B(n,["action"]),r=u??"#",i=kr(),o=i.handleReset,c=i.handleSubmit;return s.createElement("form",y({onSubmit:c,ref:t,onReset:o,action:r},a))});ae.displayName="Form";function ue(n){var t=function(r){return s.createElement(Jr,null,function(i){return s.createElement(n,y({},r,{formik:i}))})},u=n.displayName||n.name||n.constructor&&n.constructor.name||"Component";return t.WrappedComponent=n,t.displayName="FormikConnect("+u+")",Kr(t,n)}var oe=function(t,u,a){var r=P(t),i=r[u];return r.splice(u,1),r.splice(a,0,i),r},le=function(t,u,a){var r=P(t),i=r[u];return r[u]=r[a],r[a]=i,r},ur=function(t,u,a){var r=P(t);return r.splice(u,0,a),r},ce=function(t,u,a){var r=P(t);return r[u]=a,r},P=function(t){if(t){if(Array.isArray(t))return[].concat(t);var u=Object.keys(t).map(function(a){return parseInt(a)}).reduce(function(a,r){return r>a?r:a},0);return Array.from(y({},t,{length:u+1}))}else return[]},Cr=function(t,u){var a=typeof t=="function"?t:u;return function(r){if(Array.isArray(r)||j(r)){var i=P(r);return a(i)}return r}},wr=function(n){Yr(t,n);function t(a){var r;return r=n.call(this,a)||this,r.updateArrayField=function(i,o,c){var h=r.props,T=h.name,C=h.formik.setFormikState;C(function(I){var d=Cr(c,i),A=Cr(o,i),k=D(I.values,T,i(g(I.values,T))),b=c?d(g(I.errors,T)):void 0,L=o?A(g(I.touched,T)):void 0;return br(b)&&(b=void 0),br(L)&&(L=void 0),y({},I,{values:k,errors:c?D(I.errors,T,b):I.errors,touched:o?D(I.touched,T,L):I.touched})})},r.push=function(i){return r.updateArrayField(function(o){return[].concat(P(o),[$(i)])},!1,!1)},r.handlePush=function(i){return function(){return r.push(i)}},r.swap=function(i,o){return r.updateArrayField(function(c){return le(c,i,o)},!0,!0)},r.handleSwap=function(i,o){return function(){return r.swap(i,o)}},r.move=function(i,o){return r.updateArrayField(function(c){return oe(c,i,o)},!0,!0)},r.handleMove=function(i,o){return function(){return r.move(i,o)}},r.insert=function(i,o){return r.updateArrayField(function(c){return ur(c,i,o)},function(c){return ur(c,i,null)},function(c){return ur(c,i,null)})},r.handleInsert=function(i,o){return function(){return r.insert(i,o)}},r.replace=function(i,o){return r.updateArrayField(function(c){return ce(c,i,o)},!1,!1)},r.handleReplace=function(i,o){return function(){return r.replace(i,o)}},r.unshift=function(i){var o=-1;return r.updateArrayField(function(c){var h=c?[i].concat(c):[i];return o=h.length,h},function(c){return c?[null].concat(c):[null]},function(c){return c?[null].concat(c):[null]}),o},r.handleUnshift=function(i){return function(){return r.unshift(i)}},r.handleRemove=function(i){return function(){return r.remove(i)}},r.handlePop=function(){return function(){return r.pop()}},r.remove=r.remove.bind(Rr(r)),r.pop=r.pop.bind(Rr(r)),r}var u=t.prototype;return u.componentDidUpdate=function(r){this.props.validateOnChange&&this.props.formik.validateOnChange&&!U(g(r.formik.values,r.name),g(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},u.remove=function(r){var i;return this.updateArrayField(function(o){var c=o?P(o):[];return i||(i=c[r]),R(c.splice)&&c.splice(r,1),R(c.every)&&c.every(function(h){return h===void 0})?[]:c},!0,!0),i},u.pop=function(){var r;return this.updateArrayField(function(i){var o=i.slice();return r||(r=o&&o.pop&&o.pop()),o},!0,!0),r},u.render=function(){var r={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},i=this.props,o=i.component,c=i.render,h=i.children,T=i.name,C=i.formik,I=B(C,["validate","validationSchema"]),d=y({},r,{form:I,name:T});return o?s.createElement(o,d):c?c(d):h?typeof h=="function"?h(d):Lr(h)?null:s.Children.only(h):null},t}(s.Component);wr.defaultProps={validateOnChange:!0};var Ee=ue(wr);export{me as F,ae as a,ye as b,Ee as c};
