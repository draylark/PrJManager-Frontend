import{R as g,a as L}from"./react-DShcIP8I.js";import{w as M}from"./use-sync-external-store-Dah2eIT9.js";var s="default"in g?L:g,C=Symbol.for("react-redux-context"),w=typeof globalThis<"u"?globalThis:{};function T(){if(!s.createContext)return{};const e=w[C]??(w[C]=new Map);let r=e.get(s.createContext);return r||(r=s.createContext(null),e.set(s.createContext,r)),r}var c=T(),U=()=>{throw new Error("uSES not initialized!")};function x(e=c){return function(){return s.useContext(e)}}var R=x(),E=U,D=e=>{E=e},H=(e,r)=>e===r;function P(e=c){const r=e===c?R:x(e),t=(n,o={})=>{const{equalityFn:i=H,devModeChecks:a={}}=typeof o=="function"?{equalityFn:o}:o,{store:l,subscription:f,getServerState:u,stabilityCheck:b,identityFunctionCheck:p}=r();s.useRef(!0);const v=s.useCallback({[n.name](d){return n(d)}}[n.name],[n,b,a.stabilityCheck]),S=E(f.addNestedSub,l.getState,u||l.getState,v,i);return s.useDebugValue(S),S};return Object.assign(t,{withTypes:()=>t}),t}var F=P();function V(e){e()}function j(){let e=null,r=null;return{clear(){e=null,r=null},notify(){V(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0;const o=r={callback:t,next:null,prev:r};return o.prev?o.prev.next=o:e=o,function(){!n||e===null||(n=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var m={notify(){},get:()=>[]};function z(e,r){let t,n=m,o=0,i=!1;function a(y){b();const k=n.subscribe(y);let h=!1;return()=>{h||(h=!0,k(),p())}}function l(){n.notify()}function f(){d.onStateChange&&d.onStateChange()}function u(){return i}function b(){o++,t||(t=r?r.addNestedSub(f):e.subscribe(f),n=j())}function p(){o--,t&&o===0&&(t(),t=void 0,n.clear(),n=m)}function v(){i||(i=!0,b())}function S(){i&&(i=!1,p())}const d={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:f,isSubscribed:u,trySubscribe:v,tryUnsubscribe:S,getListeners:()=>n};return d}var W=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I=typeof navigator<"u"&&navigator.product==="ReactNative",$=W||I?s.useLayoutEffect:s.useEffect;function q({store:e,context:r,children:t,serverState:n,stabilityCheck:o="once",identityFunctionCheck:i="once"}){const a=s.useMemo(()=>{const u=z(e);return{store:e,subscription:u,getServerState:n?()=>n:void 0,stabilityCheck:o,identityFunctionCheck:i}},[e,n,o,i]),l=s.useMemo(()=>e.getState(),[e]);$(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,l]);const f=r||c;return s.createElement(f.Provider,{value:a},t)}var G=q;function N(e=c){const r=e===c?R:x(e),t=()=>{const{store:n}=r();return n};return Object.assign(t,{withTypes:()=>t}),t}var A=N();function B(e=c){const r=e===c?A:N(e),t=()=>r().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var J=B();D(M.useSyncExternalStoreWithSelector);export{G as P,J as a,F as u};
